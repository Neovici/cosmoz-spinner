var J=Object.defineProperty;var K=(s,t,e)=>t in s?J(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var i=(s,t,e)=>K(s,typeof t!="symbol"?t+"":t,e);import{B as W,x as Q}from"./lit-html-BjAcM_Fu.js";let v,B=0;function x(s){v=s}function k(){v=null,B=0}function X(){return B++}const S=Symbol("haunted.phase"),g=Symbol("haunted.hook"),P=Symbol("haunted.update"),z=Symbol("haunted.commit"),l=Symbol("haunted.effects"),_=Symbol("haunted.layoutEffects"),E="haunted.context";var j,R,A;A=g,R=l,j=_;class Y{constructor(t,e){i(this,"update");i(this,"host");i(this,"virtual");i(this,A);i(this,R);i(this,j);this.update=t,this.host=e,this[g]=new Map,this[l]=[],this[_]=[]}run(t){x(this);let e=t();return k(),e}_runEffects(t){let e=this[t];x(this);for(let r of e)r.call(this);k()}runEffects(){this._runEffects(l)}runLayoutEffects(){this._runEffects(_)}teardown(){this[g].forEach(e=>{typeof e.teardown=="function"&&e.teardown(!0)})}}const V=Promise.resolve().then.bind(Promise.resolve());function D(){let s=[],t;function e(){t=null;let r=s;s=[];for(var n=0,o=r.length;n<o;n++)r[n]()}return function(r){s.push(r),t==null&&(t=V(e))}}const tt=D(),O=D();var F;F=S;class et{constructor(t,e){i(this,"renderer");i(this,"host");i(this,"state");i(this,F);i(this,"_updateQueued");i(this,"_active");this.renderer=t,this.host=e,this.state=new Y(this.update.bind(this),e),this[S]=null,this._updateQueued=!1,this._active=!0}update(){this._active&&(this._updateQueued||(tt(()=>{let t=this.handlePhase(P);O(()=>{this.handlePhase(z,t),O(()=>{this.handlePhase(l)})}),this._updateQueued=!1}),this._updateQueued=!0))}handlePhase(t,e){switch(this[S]=t,t){case z:this.commit(e),this.runEffects(_);return;case P:return this.render();case l:return this.runEffects(l)}}render(){return this.state.run(()=>this.renderer.call(this.host,this.host))}runEffects(t){this.state._runEffects(t)}teardown(){this.state.teardown()}pause(){this._active=!1}resume(){this._active=!0}}const st=(...s)=>{const t=new CSSStyleSheet;return t.replaceSync(s.join("")),t},rt=s=>s==null?void 0:s.map(t=>typeof t=="string"?st(t):t),nt=(s,...t)=>s.flatMap((e,r)=>[e,t[r]||""]).join(""),it=nt,ot=(s="")=>s.replace(/-+([a-z])?/g,(t,e)=>e?e.toUpperCase():"");function ut(s){class t extends et{constructor(o,b,y){super(o,y||b);i(this,"frag");i(this,"renderResult");this.frag=b}commit(o){this.renderResult=s(o,this.frag)}}function e(r,n,o){const b=(o||n||{}).baseElement||HTMLElement,{observedAttributes:y=[],useShadowDOM:I=!0,shadowRootInit:U={},styleSheets:$}=o||n||{},w=rt(r.styleSheets||$);class C extends b{constructor(){super();i(this,"_scheduler");if(I===!1)this._scheduler=new t(r,this);else{const u=this.attachShadow({mode:"open",...U});w&&(u.adoptedStyleSheets=w),this._scheduler=new t(r,u,this)}}static get observedAttributes(){return r.observedAttributes||y||[]}connectedCallback(){var u;this._scheduler.resume(),this._scheduler.update(),(u=this._scheduler.renderResult)==null||u.setConnected(!0)}disconnectedCallback(){var u;this._scheduler.pause(),this._scheduler.teardown(),(u=this._scheduler.renderResult)==null||u.setConnected(!1)}attributeChangedCallback(u,h,a){if(h===a)return;let G=a===""?!0:a;Reflect.set(this,ot(u),G)}}function Z(d){let c=d,u=!1;return Object.freeze({enumerable:!0,configurable:!0,get(){return c},set(h){u&&c===h||(u=!0,c=h,this._scheduler&&this._scheduler.update())}})}const q=new Proxy(b.prototype,{getPrototypeOf(d){return d},set(d,c,u,h){let a;return c in d?(a=Object.getOwnPropertyDescriptor(d,c),a&&a.set?(a.set.call(h,u),!0):(Reflect.set(d,c,u,h),!0)):(typeof c=="symbol"||c[0]==="_"?a={enumerable:!0,configurable:!0,writable:!0,value:u}:a=Z(u),Object.defineProperty(h,c,a),a.set&&a.set.call(h,u),!0)}});return Object.setPrototypeOf(C.prototype,q),C}return e}class f{constructor(t,e){i(this,"id");i(this,"state");this.id=t,this.state=e}}function at(s,...t){let e=X(),r=v[g],n=r.get(e);return n||(n=new s(e,v,...t),r.set(e,n)),n.update(...t)}function p(s){return at.bind(null,s)}function H(s){return p(class extends f{constructor(e,r,n,o){super(e,r);i(this,"callback");i(this,"lastValues");i(this,"values");i(this,"_teardown");s(r,this)}update(e,r){this.callback=e,this.values=r}call(){const e=!this.values||this.hasChanged();this.lastValues=this.values,e&&this.run()}run(){this.teardown(),this._teardown=this.callback.call(this.state)}teardown(e){typeof this._teardown=="function"&&(this._teardown(),this._teardown=void 0),e&&(this.lastValues=this.values=void 0)}hasChanged(){return!this.lastValues||this.values.some((e,r)=>this.lastValues[r]!==e)}})}function T(s,t){s[l].push(t)}H(T);const ct=s=>s instanceof Element?s:s.startNode||s.endNode||s.parentNode,ht=p(class extends f{constructor(t,e,r){super(t,e);i(this,"Context");i(this,"value");i(this,"_ranEffect");i(this,"_unsubscribe");this._updater=this._updater.bind(this),this._ranEffect=!1,this._unsubscribe=null,T(e,this)}update(t){return this.Context!==t&&(this._subscribe(t),this.Context=t),this.value}call(){this._ranEffect||(this._ranEffect=!0,this._unsubscribe&&this._unsubscribe(),this._subscribe(this.Context),this.state.update())}_updater(t){this.value=t,this.state.update()}_subscribe(t){const e={Context:t,callback:this._updater};ct(this.state.host).dispatchEvent(new CustomEvent(E,{detail:e,bubbles:!0,cancelable:!0,composed:!0}));const{unsubscribe:n=null,value:o}=e;this.value=n?o:t.defaultValue,this._unsubscribe=n}teardown(){this._unsubscribe&&this._unsubscribe()}});function dt(s){return t=>{const e={Provider:class extends HTMLElement{constructor(){super();i(this,"listeners");i(this,"_value");this.style.display="contents",this.listeners=new Set,this.addEventListener(E,this)}disconnectedCallback(){this.removeEventListener(E,this)}handleEvent(n){const{detail:o}=n;o.Context===e&&(o.value=this.value,o.unsubscribe=this.unsubscribe.bind(this,o.callback),this.listeners.add(o.callback),n.stopPropagation())}unsubscribe(n){this.listeners.delete(n)}set value(n){this._value=n;for(let o of this.listeners)o(n)}get value(){return this._value}},Consumer:s(function({render:r}){const n=ht(e);return r(n)},{useShadowDOM:!1}),defaultValue:t};return e}}p(class extends f{constructor(t,e,r,n){super(t,e);i(this,"value");i(this,"values");this.value=r(),this.values=n}update(t,e){return this.hasChanged(e)&&(this.values=e,this.value=t()),this.value}hasChanged(t=[]){return t.some((e,r)=>this.values[r]!==e)}});function lt(s,t){s[_].push(t)}H(lt);p(class extends f{constructor(t,e,r){super(t,e);i(this,"args");this.updater=this.updater.bind(this),typeof r=="function"&&(r=r()),this.makeArgs(r)}update(){return this.args}updater(t){const[e]=this.args;typeof t=="function"&&(t=t(e)),!Object.is(e,t)&&(this.makeArgs(t),this.state.update())}makeArgs(t){this.args=Object.freeze([t,this.updater])}});p(class extends f{constructor(t,e,r,n,o){super(t,e);i(this,"reducer");i(this,"currentState");this.dispatch=this.dispatch.bind(this),this.currentState=o!==void 0?o(n):n}update(t){return this.reducer=t,[this.currentState,this.dispatch]}dispatch(t){this.currentState=this.reducer(this.currentState,t),this.state.update()}});const ft=/([A-Z])/gu;p(class extends f{constructor(t,e,r,n){super(t,e);i(this,"property");i(this,"eventName");if(this.state.virtual)throw new Error("Can't be used with virtual components.");this.updater=this.updater.bind(this),this.property=r,this.eventName=r.replace(ft,"-$1").toLowerCase()+"-changed",this.state.host[this.property]==null&&(typeof n=="function"&&(n=n()),n!=null&&this.updateProp(n))}update(t,e){return[this.state.host[this.property],this.updater]}updater(t){const e=this.state.host[this.property];typeof t=="function"&&(t=t(e)),!Object.is(e,t)&&this.updateProp(t)}updateProp(t){this.notify(t).defaultPrevented||(this.state.host[this.property]=t)}notify(t){const e=new CustomEvent(this.eventName,{detail:{value:t,path:this.property},cancelable:!0});return this.state.host.dispatchEvent(e),e}});function pt({render:s}){const t=ut(s),e=dt(t);return{component:t,createContext:e}}const{component:bt}=pt({render:W}),mt=it`
	@keyframes rotating {
		100% {
			transform: rotate(360deg);
		}
	}

	:host {
		display: inline-block;
		vertical-align: middle;
		border-radius: 50%;
		width: 22px;
		height: 22px;
		border: 2px solid rgba(0, 0, 0, 0.1);
		border-top: 2px solid #5f5a92;
		animation: rotating 1.2s infinite cubic-bezier(0.785, 0.135, 0.15, 0.86);
		box-sizing: border-box;
		margin: 0 4px;
	}
`,_t=()=>Q``,gt=bt(_t,{styleSheets:[mt]});customElements.define("cz-spinner",gt);const St={title:"Cosmoz Spinner",tags:["autodocs"]},m=()=>Q`<cz-spinner></cz-spinner>`;m.parameters={docs:{description:{story:"A spinner component that indicates loading or processing state."}}};var L,M,N;m.parameters={...m.parameters,docs:{...(L=m.parameters)==null?void 0:L.docs,source:{originalSource:"() => {\n  return html`<cz-spinner></cz-spinner>`;\n}",...(N=(M=m.parameters)==null?void 0:M.docs)==null?void 0:N.source}}};const Et=["Spinner"];export{m as Spinner,Et as __namedExportsOrder,St as default};
