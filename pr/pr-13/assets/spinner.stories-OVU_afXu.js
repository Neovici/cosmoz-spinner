import{B,E as D,x as H}from"./iframe-xM6AFQ2Q.js";import"./preload-helper-D9Z9MdNV.js";let y,z=0;function w(e){y=e}function C(){y=null,z=0}function T(){return z++}const g=Symbol("haunted.phase"),_=Symbol("haunted.hook"),x=Symbol("haunted.update"),k=Symbol("haunted.commit"),d=Symbol("haunted.effects"),b=Symbol("haunted.layoutEffects"),v="haunted.context";class I{update;host;virtual;[_];[d];[b];constructor(t,s){this.update=t,this.host=s,this[_]=new Map,this[d]=[],this[b]=[]}run(t){w(this);let s=t();return C(),s}_runEffects(t){let s=this[t];w(this);for(let r of s)r.call(this);C()}runEffects(){this._runEffects(d)}runLayoutEffects(){this._runEffects(b)}teardown(){this[_].forEach(s=>{typeof s.teardown=="function"&&s.teardown(!0)})}}const U=Promise.resolve().then.bind(Promise.resolve());function O(){let e=[],t;function s(){t=null;let r=e;e=[];for(var n=0,h=r.length;n<h;n++)r[n]()}return function(r){e.push(r),t==null&&(t=U(s))}}const $=O(),P=O();class Z{renderer;host;state;[g];_updateQueued;_active;constructor(t,s){this.renderer=t,this.host=s,this.state=new I(this.update.bind(this),s),this[g]=null,this._updateQueued=!1,this._active=!0}update(){this._active&&(this._updateQueued||($(()=>{let t=this.handlePhase(x);P(()=>{this.handlePhase(k,t),P(()=>{this.handlePhase(d)})}),this._updateQueued=!1}),this._updateQueued=!0))}handlePhase(t,s){switch(this[g]=t,t){case k:this.commit(s),this.runEffects(b);return;case x:return this.render();case d:return this.runEffects(d)}}render(){return this.state.run(()=>this.renderer.call(this.host,this.host))}runEffects(t){this.state._runEffects(t)}teardown(){this.state.teardown()}pause(){this._active=!1}resume(){this._active=!0}}const q=(...e)=>{const t=new CSSStyleSheet;return t.replaceSync(e.join("")),t},G=e=>e?.map(t=>typeof t=="string"?q(t):t),J=(e,...t)=>e.flatMap((s,r)=>[s,t[r]||""]).join(""),K=J,W=(e="")=>e.replace(/-+([a-z])?/g,(t,s)=>s?s.toUpperCase():"");function X(e){class t extends Z{frag;renderResult;constructor(n,h,m){super(n,m||h),this.frag=h}commit(n){this.renderResult=e(n,this.frag)}}function s(r,n,h){const m=(h||n||{}).baseElement||HTMLElement,{observedAttributes:A=[],useShadowDOM:F=!0,shadowRootInit:L={},styleSheets:M}=h||n||{},S=G(r.styleSheets||M);class E extends m{_scheduler;static get observedAttributes(){return r.observedAttributes||A||[]}constructor(){if(super(),F===!1)this._scheduler=new t(r,this);else{const i=this.attachShadow({mode:"open",...L});S&&(i.adoptedStyleSheets=S),this._scheduler=new t(r,i,this)}}connectedCallback(){this._scheduler.resume(),this._scheduler.update(),this._scheduler.renderResult?.setConnected(!0)}disconnectedCallback(){this._scheduler.pause(),this._scheduler.teardown(),this._scheduler.renderResult?.setConnected(!1)}attributeChangedCallback(i,a,o){if(a===o)return;let u=o===""?!0:o;Reflect.set(this,W(i),u)}}function N(c){let i=c,a=!1;return Object.freeze({enumerable:!0,configurable:!0,get(){return i},set(o){a&&i===o||(a=!0,i=o,this._scheduler&&this._scheduler.update())}})}const Q=new Proxy(m.prototype,{getPrototypeOf(c){return c},set(c,i,a,o){let u;return i in c?(u=Object.getOwnPropertyDescriptor(c,i),u&&u.set?(u.set.call(o,a),!0):(Reflect.set(c,i,a,o),!0)):(typeof i=="symbol"||i[0]==="_"?u={enumerable:!0,configurable:!0,writable:!0,value:a}:u=N(a),Object.defineProperty(o,i,u),u.set&&u.set.call(o,a),!0)}});return Object.setPrototypeOf(E.prototype,Q),E}return s}class l{id;state;constructor(t,s){this.id=t,this.state=s}}function Y(e,...t){let s=T(),r=y[_],n=r.get(s);return n||(n=new e(s,y,...t),r.set(s,n)),n.update(...t)}function p(e){return Y.bind(null,e)}function j(e){return p(class extends l{callback;lastValues;values;_teardown;constructor(t,s,r,n){super(t,s),e(s,this)}update(t,s){this.callback=t,this.values=s}call(){const t=!this.values||this.hasChanged();this.lastValues=this.values,t&&this.run()}run(){this.teardown(),this._teardown=this.callback.call(this.state)}teardown(t){typeof this._teardown=="function"&&(this._teardown(),this._teardown=void 0),t&&(this.lastValues=this.values=void 0)}hasChanged(){return!this.lastValues||this.values.some((t,s)=>this.lastValues[s]!==t)}})}function R(e,t){e[d].push(t)}j(R);const V=e=>e instanceof Element?e:e.startNode||e.endNode||e.parentNode,tt=p(class extends l{Context;value;_ranEffect;_unsubscribe;constructor(e,t,s){super(e,t),this._updater=this._updater.bind(this),this._ranEffect=!1,this._unsubscribe=null,R(t,this)}update(e){return this.Context!==e&&(this._subscribe(e),this.Context=e),this.value}call(){this._ranEffect||(this._ranEffect=!0,this._unsubscribe&&this._unsubscribe(),this._subscribe(this.Context),this.state.update())}_updater(e){this.value=e,this.state.update()}_subscribe(e){const t={Context:e,callback:this._updater};V(this.state.host).dispatchEvent(new CustomEvent(v,{detail:t,bubbles:!0,cancelable:!0,composed:!0}));const{unsubscribe:r=null,value:n}=t;this.value=r?n:e.defaultValue,this._unsubscribe=r}teardown(){this._unsubscribe&&this._unsubscribe()}});function et(e){return t=>{const s={Provider:class extends HTMLElement{listeners;_value;constructor(){super(),this.style.display="contents",this.listeners=new Set,this.addEventListener(v,this)}disconnectedCallback(){this.removeEventListener(v,this)}handleEvent(r){const{detail:n}=r;n.Context===s&&(n.value=this.value,n.unsubscribe=this.unsubscribe.bind(this,n.callback),this.listeners.add(n.callback),r.stopPropagation())}unsubscribe(r){this.listeners.delete(r)}set value(r){this._value=r;for(let n of this.listeners)n(r)}get value(){return this._value}},Consumer:e(function({render:r}){const n=tt(s);return r(n)},{useShadowDOM:!1}),defaultValue:t};return s}}p(class extends l{value;values;constructor(e,t,s,r){super(e,t),this.value=s(),this.values=r}update(e,t){return this.hasChanged(t)&&(this.values=t,this.value=e()),this.value}hasChanged(e=[]){return e.some((t,s)=>this.values[s]!==t)}});function st(e,t){e[b].push(t)}j(st);p(class extends l{args;constructor(e,t,s){super(e,t),this.updater=this.updater.bind(this),typeof s=="function"&&(s=s()),this.makeArgs(s)}update(){return this.args}updater(e){const[t]=this.args;typeof e=="function"&&(e=e(t)),!Object.is(t,e)&&(this.makeArgs(e),this.state.update())}makeArgs(e){this.args=Object.freeze([e,this.updater])}});p(class extends l{reducer;currentState;constructor(e,t,s,r,n){super(e,t),this.dispatch=this.dispatch.bind(this),this.currentState=n!==void 0?n(r):r}update(e){return this.reducer=e,[this.currentState,this.dispatch]}dispatch(e){this.currentState=this.reducer(this.currentState,e),this.state.update()}});const rt=/([A-Z])/gu;p(class extends l{property;eventName;constructor(e,t,s,r){if(super(e,t),this.state.virtual)throw new Error("Can't be used with virtual components.");this.updater=this.updater.bind(this),this.property=s,this.eventName=s.replace(rt,"-$1").toLowerCase()+"-changed",this.state.host[this.property]==null&&(typeof r=="function"&&(r=r()),r!=null&&this.updateProp(r))}update(e,t){return[this.state.host[this.property],this.updater]}updater(e){const t=this.state.host[this.property];typeof e=="function"&&(e=e(t)),!Object.is(t,e)&&this.updateProp(e)}updateProp(e){this.notify(e).defaultPrevented||(this.state.host[this.property]=e)}notify(e){const t=new CustomEvent(this.eventName,{detail:{value:e,path:this.property},cancelable:!0});return this.state.host.dispatchEvent(t),t}});function nt({render:e}){const t=X(e),s=et(t);return{component:t,createContext:s}}const{component:it}=nt({render:B}),ot=K`
	@keyframes rotating {
		100% {
			transform: rotate(360deg);
		}
	}

	:host {
		--cosmoz-spinner-width: 22px;
		--cosmoz-spinner-height: 22px;
		display: inline-block;
		vertical-align: middle;
		border-radius: 50%;
		width: var(--cosmoz-spinner-width);
		height: var(--cosmoz-spinner-height);
		border: 2px solid rgba(0, 0, 0, 0.1);
		border-top: 2px solid #5f5a92;
		animation: rotating 1.2s infinite cubic-bezier(0.785, 0.135, 0.15, 0.86);
		box-sizing: border-box;
		margin: 0 4px;
		flex: none !important;
	}
`,ut=()=>D,at=it(ut,{styleSheets:[ot]});customElements.define("cosmoz-spinner",at);const dt={title:"Cosmoz Spinner",tags:["autodocs"]},f=()=>H`<cosmoz-spinner></cosmoz-spinner>`;f.parameters={docs:{description:{story:"A spinner component that indicates loading or processing state."}}};f.parameters={...f.parameters,docs:{...f.parameters?.docs,source:{originalSource:"() => {\n  return html`<cosmoz-spinner></cosmoz-spinner>`;\n}",...f.parameters?.docs?.source}}};const lt=["Spinner"];export{f as Spinner,lt as __namedExportsOrder,dt as default};
